# ncm-inject

塞壬唱片桌面版 - 网易云音乐注入实现

~~登录还没想好怎么实现，先摆了~~

直接查询用户公开歌单了，问就是架构不合理导致的

启动进程时可通过 `NETEASE_USER_UID` 设置 UID，也可以通过请求接口的方式设置和查询当前 UID

假如需要会员听歌可能还是需要做登录，可能会在软件内用 iframe 嵌入登录页面

该插件影响如下：

- 操作全局 store
  - 改变歌曲列表
    因网易云无法确定当前用户有多少歌曲，所以在每次选择播放网易云音乐时将要改变全局播放列表以保证页面正常运行

    该插件的 `get_songs` 方法将永远返回空数组

打包通过 esbuild 实现，dist-node 文件夹下放置 node 打包结果，dist-browser 文件夹下放置 react 编译代码

最后结果则是进行 rust dll 打包，放入 dist 下